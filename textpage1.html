<!DOCTYPE html>
<html>

<head>
    <title>Chair Fans Chat Room</title>
    <style>
        #savedTextLines {
            line-height: 0.5;
        }

        #savedTextLines p {
            margin-bottom: 5px;
        }

        body {
            background-color: rgb(48, 8, 112);
            text-align: left;
            color: white;
        }
    </style>
</head>

<body>

    <h2 style="text-align: center">THE TEXT PAGE</h2>
    <h5 style="text-align: center">(In Development)</h5>
    <hr>

    <style>
        .vl {
          border-left: 6px solid green;
          height: 500px;
        }
        </style>

    <a href="https://chairfansltd.online/" style="color:rgb(255, 203, 59); text-align: center">Go back to Main Page</a>
    <br>
    <a href="https://chairfansltd.online/thebutton" style="color:rgb(255, 203, 59); text-align: center">To THE BUTTON</a>
    <br>
    <br>

    <input type="text" id="inputBox" placeholder="put some text here i guess">
    <button onClick="saveText()"> Submit Text </button>
    <div id="savedTextLines"></div>

    <!-- Add the Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyByOJEl2Q5NX5OsuZ2yobTUXlElx0VSooY",
            authDomain: "textpage1-chair.firebaseapp.com",
            databaseURL: "https://textpage1-chair-default-rtdb.firebaseio.com",
            projectId: "textpage1-chair",
            storageBucket: "textpage1-chair.appspot.com",
            messagingSenderId: "498007060580",
            appId: "1:498007060580:web:a4fe4e2dc5d2bfb68f2f71",
            measurementId: "G-Y23K3YNV76"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        var database = firebase.database();
        var messagesRef = database.ref("messages");
        

        function saveText() {
            var text = document.getElementById('inputBox').value;
            var currentTime = new Date().toLocaleTimeString();

            messagesRef.push({ text: text, time: currentTime });

            displayLines();
        }

        function displayLines() {
  var savedTextLines = document.getElementById('savedTextLines');
  savedTextLines.innerHTML = '';

  messagesRef.once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
      var message = childSnapshot.val();

      var lineElement = document.createElement('p');
      lineElement.textContent = message.text + ' (' + message.time + ')';
      savedTextLines.prepend(lineElement); // Prepend the new message
    });
  });
}

        displayLines();
    </script>
</body>

</html>
